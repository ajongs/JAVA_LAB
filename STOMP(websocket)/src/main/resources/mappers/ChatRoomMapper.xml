<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.stomp.mapper.ChatRoomMapper">
    <select id="findAllChatRoom" parameterType="String" resultType="ChatRoom">
        SELECT *
        FROM chatroom
        WHERE user1 = #{userNickname}
        OR user2 = #{userNickname}
    </select>
    <insert id="createChatRoom" parameterType="ChatRoom">
        INSERT INTO chatroom
        VALUES(null, #{user1}, #{user2}, #{chatTitle}, #{chatText}, now())
    </insert>
</mapper>